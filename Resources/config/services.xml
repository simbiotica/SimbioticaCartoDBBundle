<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

	<parameters>
	    <parameter key="cartodb_connection.class">Simbiotica\CartoDBBundle\CartoDB\Connection</parameter>
	    <parameter key="cartodb_connection_factory.class">Simbiotica\CartoDBBundle\CartoDB\ConnectionFactory</parameter>
	</parameters>
	
	<services>
	    <service id="cartodb_connection_factory" class="%cartodb_connection_factory.class%">
	       <argument type="service" id="session" />
	    </service>
	    
	    <service id="cartodb_connection"
	             class="%cartodb_connection.class%"
	             factory-service="cartodb_connection_factory"
	             factory-method="createConnection"
	    />
	</services>
	
</container>